<!DOCTYPE html> 
<html>
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml;charset=UTF-8" />
    <meta name="viewport" content="initial-scale=1, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0, width=device-width,target-densitydpi=device-dpi"/>
<title>手机横、竖屏事件</title> 
<script language="javascript" type="text/javascript">

var change = document.getElementById("change");

var hengshuping = false;// true竖屏 / false横屏

/*All Ready Event*/
window.onload = function(){
    //用户变化屏幕方向时调用
    // if($("#viewportCheck").length > 0){ 
        hengshupingCheck();
        window.addEventListener("onorientationchange" in window ? "orientationchange" : "resize" , hengshupingCheck, false);
    // }
};

function hengshupingCheck(){
  
  var MozOrientation = screen.orientation || screen.mozOrientation || screen.msOrientation;
  //alert(window.screen.mozOrientation)
  if(window.orientation==90 || window.orientation==-90 || MozOrientation === "landscape-primary" || MozOrientation === "landscape-secondary"){  
        change.value = ("竖屏状态！")
        hengshuping = true; 
    };

   if(window.orientation==180||window.orientation==0 || MozOrientation === "portrait-secondary" || MozOrientation === "portrait-primary"){  
        change.value = ("横屏状态！") 
        hengshuping = false;       
   }

};

</script>
</head> 
<body> 
<input id="change" type="text" value=""/>
</body>
</html>